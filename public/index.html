<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anastasia Reflexology - Ρεφλεξολογία &amp; Ευεξία στη Βέροια</title>
    <meta name="description" content="Ανακαλύψτε την τέχνη της ρεφλεξολογίας με την Αναστασία. Εξατομικευμένες συνεδρίες σε έναν πλήρως προσβάσιμο χώρο στη Βέροια για χαλάρωση και ευεξία.">
    <link rel="icon" href="pictures/logo.png" type="image/png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display:wght@400;700&family=Noto+Sans+Greek:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> <!-- Added stylesheet link -->
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ================================== NAVIGATION ================================== -->
       <header>
        <div class="navbar">
            <a href="#home" class="logo">
                <img src="pictures/logo.png" alt="Anastasia Reflexology Logo" class="logo-img">
                <span class="logo-text">Anastasia Reflexology</span>
            </a>
            <button class="mobile-nav-toggle" aria-label="Μενού" aria-expanded="false" aria-controls="mobileNavPanel">
                <span>☰</span> <!-- Simple hamburger icon -->
            </button>
            <nav class="desktop-nav" aria-label="Κύρια Μενού">
                <ul>
                    <li><a href="#home">Αρχική</a></li>
                    <li><a href="#about">Σχετικά</a></li>
                    <li><a href="#services">Υπηρεσίες</a></li>
                    <li><a href="#gallery">Εικόνες</a></li>
                    <li><a href="#location">Τοποθεσία</a></li>
                    <li><a href="#contact">Επικοινωνία</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div id="mobileNavPanel" class="mobile-nav-panel">
        <div class="panel-header"> <!-- Added panel-header div -->
            <span class="panel-title">Μενού</span> <!-- Added title -->
            <button class="mobile-nav-close" aria-label="Κλείσιμο μενού">✖</button>
        </div>
        <ul>
            <li><a href="#home">Αρχική</a></li>
            <li><a href="#about">Σχετικά</a></li>
            <li><a href="#services">Υπηρεσίες</a></li>
            <li><a href="#gallery">Εικόνες</a></li>
            <li><a href="#location">Τοποθεσία</a></li>
            <li><a href="#contact">Επικοινωνία</a></li>
        </ul>
    </div>

    <!-- ================================== HERO ================================== -->
    <section id="home" class="hero" aria-label="Εισαγωγική Ενότητα">
        <div>
            <h1>Απολαύστε Ρεφλεξολογία σε έναν Όμορφο Χώρο Ευεξίας</h1>
            <p>Χαρίστε στον εαυτό σας στιγμές βαθιάς χαλάρωσης και ευεξίας σε έναν χώρο ειδικά διαμορφωμένο για την πλήρη άνεση κάθε επισκέπτη – συμπεριλαμβανομένων ατόμων με αναπηρία.</p>
            <a class="btn btn-primary btn-icon" href="#contact">
                <i class="fas fa-calendar-check"></i> Κλείσε Ραντεβού
            </a>
        </div>
    </section>

    <!-- ================================== ABOUT ================================== -->
    <section id="about" aria-labelledby="about-heading">
        <div class="container about-grid">
            <div class="slide-in-left">
                <h2 id="about-heading">Γνωρίστε την Αναστασία</h2>
                <p>Η <strong>Αναστασία</strong> είναι πιστοποιημένη ρεφλεξολόγος με εμπειρία. Στον ολοκαίνουργιο και πλήρως <em>προσβάσιμο</em> χώρο της, παρέχει εξατομικευμένες συνεδρίες που βοηθούν το σώμα να επανέλθει στη φυσική του ισορροπία, μειώνοντας το άγχος, βελτιώνοντας τον ύπνο και ενισχύοντας την ευεξία σας.</p>
                <p>Στόχος μας είναι να κάνουμε τη συνεδρία προσιτή σε όλους.</p>
                <span class="accessible-badge scale-in" aria-label="Προσβάσιμο για ΑΜΕΑ">
                    <!-- Simple wheelchair icon -->
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14 11h-1V5a3 3 0 10-2 0v6a1 1 0 001 1h3a3 3 0 010 6h-1v2h1a5 5 0 000-10zM8 21a4 4 0 100-8 4 4 0 000 8z"/></svg>
                    <span>Προσβάσιμος Χώρος</span>
                </span>
            </div>
            <div class="slide-in-right">
                <img src="pictures/feet.png" alt="Διάγραμμα αντανακλαστικών σημείων στα πόδια" class="parallax" data-speed="0.05" loading="lazy">
            </div>
        </div>
    </section>

    
     <!-- ================================== DISCOVER REFLEXOLOGY (NEW) ================================== -->
    <section id="discover-reflexology" aria-labelledby="discover-heading">
        <div class="container fade-in">
            <header class="discover-header">
                <h2 id="discover-heading">Ανακαλύψτε τη Ρεφλεξολογία</h2>
                <p>Μια πανάρχαια τέχνη αφής, ένα μονοπάτι προς τη βαθιά χαλάρωση και την εσωτερική ισορροπία.</p>
            </header>

            <div class="discover-main-content">
                <div class="discover-image-wrapper">
                    <img src="pictures/chart.jpg" alt="Διάγραμμα αντανακλαστικών σημείων ρεφλεξολογίας" style="width: 100%; max-width: 600px; display: block; margin: 20px auto;" loading="lazy">
                </div>
                <div class="discover-text">
                    <h3>Τι Είναι Πραγματικά η Ρεφλεξολογία;</h3>
                    <p>Η ρεφλεξολογία είναι μια ολιστική θεραπευτική μέθοδος που βασίζεται στην ύπαρξη αντανακλαστικών σημείων στα πέλματα, τις παλάμες και τα αυτιά. Κάθε τέτοιο σημείο συνδέεται ενεργειακά με συγκεκριμένα όργανα, αδένες και μέρη του σώματος.</p>
                    <p>Μέσω εξειδικευμένων πιέσεων και φυσικών χειρισμών σε αυτά τα σημεία, ο ρεφλεξολόγος στοχεύει στην απελευθέρωση της ενέργειας, την τόνωση της κυκλοφορίας και την ενεργοποίηση των φυσικών μηχανισμών αυτοθεραπείας του σώματος, οδηγώντας σε μια κατάσταση αρμονίας και ευεξίας.</p>
                </div>
            </div>

            <div class="reflexology-benefits-section">
                <h3 class="benefits-title">Τα Οφέλη που Αγγίζουν την Ευεξία σας</h3>
                <div class="benefits-grid-new">
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">🧘</span>
                        <h4>Βαθιά Χαλάρωση</h4>
                        <p>Μειώνει το στρες και την ένταση, προσφέροντας μια αίσθηση ηρεμίας και γαλήνης.</p>
                    </div>
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">✨</span>
                        <h4>Ανακούφιση από Πόνους</h4>
                        <p>Μπορεί να βοηθήσει σε πονοκεφάλους, ημικρανίες, και μυοσκελετικές ενοχλήσεις.</p>
                    </div>
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">🩸</span>
                        <h4>Βελτίωση Κυκλοφορίας</h4>
                        <p>Ενισχύει τη ροή του αίματος και του οξυγόνου σε όλο το σώμα.</p>
                    </div>
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">🛡️</span>
                        <h4>Ενίσχυση Ανοσοποιητικού</h4>
                        <p>Τονώνει το λεμφικό σύστημα και την φυσική άμυνα του οργανισμού.</p>
                    </div>
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">😴</span>
                        <h4>Καλύτερος Ύπνος</h4>
                        <p>Συμβάλλει στην αντιμετώπιση της αϋπνίας και βελτιώνει την ποιότητα του ύπνου.</p>
                    </div>
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new">🌿</span>
                        <h4>Φυσική Αποτοξίνωση</h4>
                        <p>Υποστηρίζει τις φυσικές διαδικασίες αποβολής τοξινών από το σώμα.</p>
                    </div>
                </div>
                <div class="discover-cta-wrapper">
                    <a href="#contact" class="btn btn-secondary btn-icon">
                        <i class="fas fa-spa"></i> Ζήστε την Εμπειρία της Ρεφλεξολογίας
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!-- ================================== END DISCOVER REFLEXOLOGY (NEW) ================================== -->


    <!-- ================================== SERVICES ================================== -->
         <section id="services" aria-labelledby="services-heading">
        <div class="container fade-in">
            <h2 id="services-heading">Υπηρεσίες</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Ρεφλεξολογία</h3>
                    <p class="service-duration">45 λεπτά</p>
                    <p class="service-price-tag">30€</p>
                </div>
                <div class="service-card">
                    <h3>Πακέτο 10 Συνεδριών</h3>
                    <p class="service-description">Επωφεληθείτε από την ειδική μας προσφορά για ολοκληρωμένη φροντίδα.</p>
                    <p class="service-price-tag">270€</p>
                </div>
                <div class="service-card">
                    <h3>Express Ρεφλεξολογία</h3>
                    <p class="service-duration">30 λεπτά</p>
                    <p class="service-description">Ιδανική επιλογή για γρήγορη ανανέωση και ευεξία μέσα στην ημέρα σας.</p>
                    <!-- If there's a price, add: <p class="service-price-tag">XX€</p> -->
                </div>
                <div class="service-card">
                    <h3>Ρεφλεξολογία Κεφαλής &amp; Προσώπου</h3>
                    <p class="service-description">Στοχευμένη τεχνική για βαθιά χαλάρωση, ανακούφιση από πονοκεφάλους και μείωση του στρες.</p>
                    <!-- If there's a price, add: <p class="service-price-tag">YY€</p> -->
                </div>
            </div>
        </div>
    </section>

    <!-- ================================== HOURS ================================== 
    <section id="hours" aria-labelledby="hours-heading">
        <div class="container fade-in">
            <h2 id="hours-heading">Ώρες Λειτουργίας</h2>
            <table aria-describedby="hours-heading">
                <tr><th scope="col">Ημέρα</th><th scope="col">Ώρες</th></tr>
                <tr><td>Δευτέρα</td><td>12:00 – 19:00</td></tr>
                <tr><td>Τρίτη</td><td>12:30 – 20:00</td></tr>
                <tr><td>Τετάρτη</td><td>15:00 – 20:30</td></tr>
                <tr><td>Πέμπτη</td><td>14:00 – 20:30</td></tr>
                <tr><td>Παρασκευή</td><td>15:00 – 20:00</td></tr>
                <tr><td>Σάββατο</td><td>Κατόπιν ραντεβού</td></tr>
                <tr><td>Κυριακή</td><td>Κλειστά</td></tr>
            </table>
        </div>
    </section>-->

    <!-- ================================== GALLERY ================================== -->
    <section id="gallery" aria-labelledby="gallery-heading">
        <div class="container fade-in">
            <h2 id="gallery-heading">Εξερευνήστε τους Χώρους μας</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="pictures/space1.jpg" alt="Χώρος θεραπείας 1" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Χώρος Υποδοχής</h3>
                            <p>Ένας ζεστός και φιλόξενος χώρος για να σας καλωσορίσουμε</p>
                            <button class="gallery-btn" data-img="pictures/space1.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space2.jpg" alt="Χώρος θεραπείας 2" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Δωμάτιο Θεραπείας</h3>
                            <p>Ειδικά σχεδιασμένο για την απόλυτη χαλάρωση και άνεση</p>
                            <button class="gallery-btn" data-img="pictures/space2.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space3.jpg" alt="Χώρος θεραπείας 3" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Γωνιά Χαλάρωσης</h3>
                            <p>Ένας ήρεμος χώρος για να απολαύσετε το τσάι σας μετά τη συνεδρία</p>
                            <button class="gallery-btn" data-img="pictures/space3.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space4.jpeg" alt="Χώρος θεραπείας 4" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Προσβάσιμη Είσοδος</h3>
                            <p>Πλήρως προσβάσιμος χώρος για όλους τους επισκέπτες</p>
                            <button class="gallery-btn" data-img="pictures/space4.jpeg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Lightbox Modal -->
        <div id="lightbox" class="lightbox">
            <button class="lightbox-close" aria-label="Κλείσιμο προβολής εικόνας">&times;</button>
            <div class="lightbox-content">
                <img id="lightbox-img" src="" alt="Προβολή εικόνας σε πλήρες μέγεθος">
            </div>
        </div>
    </section>

    <!-- ================================== LOCATION ================================== -->
               <section id="location" aria-labelledby="location-heading">
        <div class="container fade-in">
            <h2 id="location-heading">Πώς θα μας βρείτε</h2>
            <p>Η έδρα μας βρίσκεται: <strong>Ιπποκράτους 28, Βέροια</strong>. Ο χώρος είναι προσβάσιμος σε ΑΜΕΑ. Για ραντεβού και πληροφορίες, παρακαλούμε επικοινωνήστε τηλεφωνικώς.</p>
            <div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,0.25)">
                <iframe title="Χάρτης Anastasia Reflexology" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3144.379385514898!2d22.203786!3d40.5238018!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1357929adec91ca3%3A0xcc86b56fc121c10b!2sIppokratous%2028%2C%20Veria%20591%2032!5e0!3m2!1sel!2sgr!4v1717100000000!5m2!1sel!2sgr" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>

    <!-- ================================== TESTIMONIALS ================================== -->
    <section id="testimonials" aria-labelledby="testimonials-heading">
        <div class="container fade-in">
            <h2 id="testimonials-heading">Μαρτυρίες Πελατών</h2>
            <div class="testimonial-carousel">
                <div class="testimonial-container">
                    <div class="testimonial-slide active">
                        <div class="testimonial">
                            <p><strong>Δέσποινα Ζ.</strong> – «Μετά από μερικές συνεδρίες, ένιωσα τεράστια βελτίωση στην ενέργειά μου και τα προβλήματα πόνου εξαφανίστηκαν!»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Πέτρος Δ.</strong> – «Η ρεφλεξολογία με βοήθησε να μειώσω το στρες και να κοιμάμαι καλύτερα από ποτέ!»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Μαρία Κ.</strong> – «Η Αναστασία είναι εξαιρετική επαγγελματίας! Η τεχνική της είναι άψογη και ο χώρος της πολύ άνετος και χαλαρωτικός.»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Γιώργος Μ.</strong> – «Υπέφερα από πόνους στην πλάτη για χρόνια. Μετά από 5 συνεδρίες ρεφλεξολογίας, αισθάνομαι επιτέλους ανακούφιση!»</p>
                        </div>
                    </div>
                </div>
                <button class="testimonial-arrow prev" aria-label="Προηγούμενη μαρτυρία">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="testimonial-arrow next" aria-label="Επόμενη μαρτυρία">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="testimonial-dots">
                    <span class="dot active" data-index="0"></span>
                    <span class="dot" data-index="1"></span>
                    <span class="dot" data-index="2"></span>
                    <span class="dot" data-index="3"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- ================================== CONTACT ================================== -->
        <section id="contact" aria-labelledby="contact-heading">
        <div class="container fade-in">
            <h2 id="contact-heading">Επικοινωνία &amp; Ραντεβού</h2>
            <p>Τηλέφωνο: <a href="tel:+306976222211">+30 697 622 2211</a><br>
               Email: <a href="mailto:anastasiareflexology@gmail.com">anastasiareflexology@gmail.com</a><br>
               Ιστότοπος: <a href="https://www.anastasiatouch.com" target="_blank" rel="noopener">www.anastasiatouch.com</a></p>
            <form id="contactForm" method="POST"> <!-- Removed action and onsubmit -->
                <label for="name" class="visually-hidden">Ονοματεπώνυμο</label>
                <input type="text" id="name" name="name" placeholder="Ονοματεπώνυμο" required>

                <label for="email" class="visually-hidden">Email</label>
                <input type="email" id="email" name="email" placeholder="Email" required>
                
                <!-- Hidden field for reply-to email -->
                <input type="hidden" name="_replyto" id="formReplyTo">


                <label for="message" class="visually-hidden">Μήνυμα</label>
                <textarea id="message" name="message" placeholder="Μήνυμα" required></textarea>
                <button type="submit" class="btn btn-primary btn-icon">
                    <i class="fas fa-paper-plane"></i> Αποστολή
                </button>
            </form>
        </div>
    </section>

    <!-- ================================== FOOTER ================================== -->
    <footer>
        <p>&copy; 2025 Anastasia Reflexology. All rights reserved.</p>
    </footer>

    <!-- BACK TO TOP BUTTON -->
    <button id="topBtn" aria-label="Επιστροφή στην κορυφή">▲</button>
    
    <!-- FLOATING CHAT INTERFACE -->
    <div class="chat-icon" id="chatIcon" aria-label="Συνομιλία με εμάς">
        <i class="fas fa-comments"></i>
        <span class="notification">1</span>
    </div>
    
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">
            <div class="chat-title">
                <img src="pictures/logo.png" alt="Anastasia Reflexology Logo" class="chat-logo">
                <span>Βοηθός Ρεφλεξολογίας</span>
            </div>
            <button class="chat-close" id="chatClose" aria-label="Κλείσιμο συνομιλίας">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <!-- Messages will be added here dynamically -->
        </div>
        
        <div class="chat-options" id="chatOptions">
            <!-- Options will be added here dynamically -->
        </div>
        
        <div class="chat-input-container">
            <input type="text" id="chatInput" placeholder="Γράψτε το μήνυμά σας..." aria-label="Γράψτε το μήνυμά σας">
            <button id="chatSend" aria-label="Αποστολή μηνύματος">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    <main>
    <!-- ================================== SCRIPTS ================================== -->
    <script>
        /* Back-to-top visibility and header scroll effect */
        const topBtn = document.getElementById('topBtn');
        const header = document.querySelector('header');
        
        window.addEventListener('scroll', () => {
            // Back to top button visibility
            if (topBtn) {
                if (document.documentElement.scrollTop > 450) topBtn.style.display = 'block';
                else topBtn.style.display = 'none';
            }
            
            // Header scroll effect
            if (document.documentElement.scrollTop > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        if (topBtn) {
            topBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
        }

        // Mobile Navigation Panel Script
        const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
        const mobileNavPanel = document.getElementById('mobileNavPanel');
        const mobileNavClose = document.querySelector('.mobile-nav-close');
        const mobileNavLinks = mobileNavPanel.querySelectorAll('a');

        if (mobileNavToggle && mobileNavPanel && mobileNavClose) {
            mobileNavToggle.addEventListener('click', () => {
                const isExpanded = mobileNavToggle.getAttribute('aria-expanded') === 'true' || false;
                mobileNavToggle.setAttribute('aria-expanded', !isExpanded);
                mobileNavPanel.classList.toggle('open');
                document.body.classList.toggle('no-scroll'); // Optional: prevent body scroll when panel is open
            });

            mobileNavClose.addEventListener('click', () => {
                mobileNavToggle.setAttribute('aria-expanded', 'false');
                mobileNavPanel.classList.remove('open');
                document.body.classList.remove('no-scroll');
            });

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileNavToggle.setAttribute('aria-expanded', 'false');
                    mobileNavPanel.classList.remove('open');
                    document.body.classList.remove('no-scroll');
                });
            });
        }

        const contactForm = document.getElementById('contactForm');
        // Create a status message element if it doesn't exist, or select an existing one
        let formStatusMessage = document.getElementById('formStatusMessage');
        if (!formStatusMessage) {
            formStatusMessage = document.createElement('p');
            formStatusMessage.id = 'formStatusMessage';
            // Insert after the form, or adjust as needed
            if (contactForm) contactForm.parentNode.insertBefore(formStatusMessage, contactForm.nextSibling);
        }
        formStatusMessage.setAttribute('aria-live', 'polite'); // For accessibility

        function validateAndPrepareForm() { // Renamed for clarity
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            
            formStatusMessage.textContent = ''; // Clear previous message
            formStatusMessage.className = ''; // Clear previous styling

            if (!name || !email || !message) { 
                formStatusMessage.textContent = 'Παρακαλούμε συμπληρώστε όλα τα πεδία.';
                formStatusMessage.classList.add('status-error'); // Add a class for styling
                return false; 
            }
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { // Basic email validation
                formStatusMessage.textContent = 'Παρακαλούμε εισάγετε μια έγκυρη διεύθυνση email.';
                formStatusMessage.classList.add('status-error');
                return false;
            }
            const formReplyTo = document.getElementById('formReplyTo');
            if (formReplyTo) formReplyTo.value = email; // Ensure _replyto field is populated
            return true;
        }

        if (contactForm) {
            contactForm.addEventListener('submit', function(event) {
                event.preventDefault();

                if (!validateAndPrepareForm()) {
                    return;
                }

                const formData = new FormData(contactForm);
                // Convert FormData to a plain object for JSON stringification
                const plainFormData = Object.fromEntries(formData.entries());

                formStatusMessage.textContent = 'Αποστολή...';
                formStatusMessage.classList.remove('status-error', 'status-success');
                console.log('Form data prepared, attempting to fetch http://localhost:3000/send-email');

                fetch('http://localhost:3000/send-email', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json' // Set content type to JSON
                    },
                    body: JSON.stringify(plainFormData) // Send data as JSON
                })
                .then(response => {
                    console.log('Raw response from server:', response); // Log the raw response object
                    if (!response.ok) {
                        console.error('Response not OK. Status:', response.status, response.statusText);
                    }
                    return response.text().then(text => {
                        console.log('Response text from server:', text); // Log the actual text content of the response
                        return {ok: response.ok, status: response.status, text };
                    });
                })
                .then(data => { // Corrected: Added parentheses around 'data'
                    console.log('Processed data object:', data); // Log the object we created
                    if (data.ok) {
                        formStatusMessage.textContent = data.text || 'Ευχαριστούμε! Το μήνυμά σας έχει σταλεί.';
                        formStatusMessage.classList.add('status-success');
                        contactForm.reset();
                    } else {
                        // Display the text from the server if available, otherwise a generic error
                        let errorMessage = data.text || `Σφάλμα διακομιστή (HTTP ${data.status}). Ελέγξτε την κονσόλα.`;
                        // If the server text is the generic one, let's be more specific if we can
                        if (data.text === "Κάτι πήγε στραβά. Παρακαλούμε δοκιμάστε ξανά." && data.status !== 200) {
                             errorMessage = `Σφάλμα από τον διακομιστή (HTTP ${data.status}): ${data.text || 'Δεν επιστράφηκε συγκεκριμένο μήνυμα.'} Ελέγξτε την κονσόλα.`;
                        }
                        formStatusMessage.textContent = errorMessage;
                        formStatusMessage.classList.add('status-error');
                    }
                })
                .catch(error => {
                    console.error('Fetch Error (Network issue or script not found/erroring before response):', error);
                    formStatusMessage.textContent = 'Σφάλμα δικτύου ή αποστολής. Ελέγξτε τη σύνδεσή σας και την κονσόλα για λεπτομέρειες.';
                    formStatusMessage.classList.add('status-error');
                });
            });
        }

        /* Intersection Observer for animations */
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) { 
                    entry.target.classList.add('visible'); 
                    observer.unobserve(entry.target); 
                }
            });
        }, { threshold: 0.2 });
        
        // Apply to all animated elements
        document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in').forEach(el => observer.observe(el));
        
        /* Parallax Effect */
        const parallaxElements = document.querySelectorAll('.parallax');
        
        window.addEventListener('scroll', () => {
            parallaxElements.forEach(el => {
                const speed = el.getAttribute('data-speed') || 0.1;
                const yPos = -(window.scrollY * speed);
                el.style.transform = `translateY(${yPos}px)`;
            });
        });
        
        /* Chat Interface Functionality */
        const chatIcon = document.getElementById('chatIcon');
        const chatContainer = document.getElementById('chatContainer');
        const chatClose = document.getElementById('chatClose');
        const chatMessages = document.getElementById('chatMessages');
        const chatOptions = document.getElementById('chatOptions');
        const chatInput = document.getElementById('chatInput');
        const chatSend = document.getElementById('chatSend');
        
        // Educational content about reflexology
        const reflexologyContent = {
            welcome: {
                message: "Καλώς ήρθατε στο χώρο ρεφλεξολογίας της Αναστασίας! Πώς μπορώ να σας βοηθήσω σήμερα;",
                options: [
                    { text: "Τι είναι η ρεφλεξολογία;", value: "what_is_reflexology" },
                    { text: "Ποια τα οφέλη της ρεφλεξολογίας;", value: "benefits" },
                    { text: "Πώς μπορώ να κλείσω ραντεβού;", value: "booking" },
                    { text: "Τιμές υπηρεσιών", value: "prices" }
                ]
            },
            what_is_reflexology: {
                message: "Η ρεφλεξολογία είναι μια εναλλακτική θεραπευτική μέθοδος που βασίζεται στην αρχή ότι υπάρχουν αντανακλαστικά σημεία στα πόδια, τα χέρια και τα αυτιά που αντιστοιχούν σε διάφορα όργανα και συστήματα του σώματος. Με την εφαρμογή πίεσης σε αυτά τα σημεία, ο ρεφλεξολόγος μπορεί να προωθήσει την υγεία και την ευεξία σε όλο το σώμα.",
                options: [
                    { text: "Πώς λειτουργεί;", value: "how_it_works" },
                    { text: "Ποια τα οφέλη της;", value: "benefits" },
                    { text: "Είναι κατάλληλη για μένα;", value: "suitable_for_me" }
                ]
            },
            how_it_works: {
                message: "Η ρεφλεξολογία λειτουργεί με την εφαρμογή πίεσης σε συγκεκριμένα σημεία των ποδιών, των χεριών ή των αυτιών. Αυτά τα σημεία συνδέονται με διάφορα όργανα και συστήματα του σώματος μέσω ενεργειακών καναλιών. Η πίεση σε αυτά τα σημεία βοηθά στην απελευθέρωση της ενέργειας και την αποκατάσταση της ισορροπίας στο σώμα, προωθώντας έτσι τη φυσική διαδικασία αυτοθεραπείας.",
                options: [
                    { text: "Ποια τα οφέλη της;", value: "benefits" },
                    { text: "Θέλω να κλείσω ραντεβού", value: "booking" }
                ]
            },
            benefits: {
                message: "Η ρεφλεξολογία προσφέρει πολλά οφέλη, όπως:\n\n• Μείωση του στρες και της έντασης\n• Βελτίωση της κυκλοφορίας του αίματος\n• Ενίσχυση του ανοσοποιητικού συστήματος\n• Ανακούφιση από πόνους και πονοκεφάλους\n• Βελτίωση της ποιότητας του ύπνου\n• Αύξηση των επιπέδων ενέργειας\n• Προώθηση της συνολικής ευεξίας\n\nΠολλοί πελάτες μας αναφέρουν σημαντική βελτίωση μετά από μόλις λίγες συνεδρίες!",
                options: [
                    { text: "Πόσες συνεδρίες χρειάζομαι;", value: "sessions_needed" },
                    { text: "Θέλω να κλείσω ραντεβού", value: "booking" },
                    { text: "Τιμές υπηρεσιών", value: "prices" }
                ]
            },
            suitable_for_me: {
                message: "Η ρεφλεξολογία είναι κατάλληλη για τους περισσότερους ανθρώπους και μπορεί να βοηθήσει σε διάφορες καταστάσεις. Είναι ιδιαίτερα ωφέλιμη για άτομα που αντιμετωπίζουν στρες, αϋπνία, πονοκεφάλους, προβλήματα πέψης, ορμονικές ανισορροπίες και χρόνιους πόνους. Ωστόσο, υπάρχουν ορισμένες περιπτώσεις όπου μπορεί να μην συνιστάται, όπως σε περιπτώσεις θρόμβωσης ή σοβαρών μολύνσεων. Η Αναστασία μπορεί να σας συμβουλεύσει αν έχετε συγκεκριμένες ανησυχίες.",
                options: [
                    { text: "Θέλω να κλείσω ραντεβού", value: "booking" },
                    { text: "Επιστροφή στο κύριο μενού", value: "welcome" }
                ]
            },
            sessions_needed: {
                message: "Ο αριθμός των συνεδριών που χρειάζεστε εξαρτάται από την κατάστασή σας και τους στόχους σας. Για γενική χαλάρωση και ευεξία, μια μηνιαία συνεδρία μπορεί να είναι αρκετή. Για συγκεκριμένα προβλήματα υγείας, συνιστώνται συνήθως 4-6 εβδομαδιαίες συνεδρίες, ακολουθούμενες από συντήρηση κάθε 2-4 εβδομάδες. Η Αναστασία θα δημιουργήσει ένα εξατομικευμένο πλάνο θεραπείας για εσάς μετά την πρώτη σας συνεδρία.",
                options: [
                    { text: "Θέλω να κλείσω ραντεβού", value: "booking" },
                    { text: "Τιμές υπηρεσιών", value: "prices" }
                ]
            },
            prices: {
                message: "Οι τιμές των υπηρεσιών μας είναι:\n\n• Συνεδρία Ρεφλεξολογίας (45 λεπτά): 30€\n• Πακέτο 10 Συνεδριών: 270€ (εξοικονόμηση 30€)\n• Express Ρεφλεξολογία (30 λεπτά): 20€\n• Ρεφλεξολογία Κεφαλής & Προσώπου: 25€\n\nΠροσφέρουμε επίσης ειδικές τιμές για συνταξιούχους και φοιτητές. Ρωτήστε μας για περισσότερες πληροφορίες!",
                options: [
                    { text: "Θέλω να κλείσω ραντεβού", value: "booking" },
                    { text: "Επιστροφή στο κύριο μενού", value: "welcome" }
                ]
            },
            booking: {
                message: "Υπάρχουν διάφοροι τρόποι για να κλείσετε ραντεβού:\n\n• Τηλεφωνικά: Καλέστε μας στο 697 622 2211\n• Email: Στείλτε μας στο anastasiareflexology@gmail.com\n• Φόρμα επικοινωνίας: Συμπληρώστε τη φόρμα στην ιστοσελίδα μας\n\nΘα θέλατε να σας βοηθήσω να συμπληρώσετε τη φόρμα επικοινωνίας τώρα;",
                options: [
                    { text: "Ναι, θέλω να συμπληρώσω τη φόρμα", value: "form" },
                    { text: "Θα επικοινωνήσω τηλεφωνικά", value: "call" },
                    { text: "Θα στείλω email", value: "email" }
                ]
            },
            form: {
                message: "Τέλεια! Μπορείτε να συμπληρώσετε τη φόρμα επικοινωνίας στο κάτω μέρος της σελίδας. Απλά κάντε κλικ στο κουμπί παρακάτω και θα σας μεταφέρω εκεί. Συμπληρώστε το όνομά σας, το email σας και ένα σύντομο μήνυμα με τις προτιμήσεις σας για ημέρα και ώρα, και θα επικοινωνήσουμε μαζί σας το συντομότερο δυνατό!",
                options: [
                    { text: "Μετάβαση στη φόρμα επικοινωνίας", value: "goto_form" }
                ]
            },
            call: {
                message: "Μπορείτε να μας καλέσετε στο 697 622 2211 για να κλείσετε το ραντεβού σας. Οι ώρες λειτουργίας μας είναι Δευτέρα έως Παρασκευή, 10:00-20:00 και Σάββατο 10:00-15:00. Ανυπομονούμε να σας ακούσουμε!",
                options: [
                    { text: "Επιστροφή στο κύριο μενού", value: "welcome" },
                    { text: "Τέλος συνομιλίας", value: "end_chat" }
                ]
            },
            email: {
                message: "Μπορείτε να μας στείλετε email στο anastasiareflexology@gmail.com με τις προτιμήσεις σας για ημέρα και ώρα. Θα σας απαντήσουμε εντός 24 ωρών για να επιβεβαιώσουμε το ραντεβού σας. Ευχαριστούμε για το ενδιαφέρον σας!",
                options: [
                    { text: "Επιστροφή στο κύριο μενού", value: "welcome" },
                    { text: "Τέλος συνομιλίας", value: "end_chat" }
                ]
            },
            end_chat: {
                message: "Ευχαριστούμε που επικοινωνήσατε μαζί μας! Ελπίζουμε να σας δούμε σύντομα στο χώρο μας για μια αναζωογονητική συνεδρία ρεφλεξολογίας. Καλή σας ημέρα!",
                options: []
            }
        };
        
        // Function to add a message to the chat
        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender);
            messageElement.textContent = text;
            chatMessages.appendChild(messageElement);
            
            // Scroll to the bottom of the messages
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to show typing indicator
        function showTypingIndicator() {
            const typingIndicator = document.createElement('div');
            typingIndicator.classList.add('typing-indicator');
            typingIndicator.innerHTML = '<span></span><span></span><span></span>';
            typingIndicator.id = 'typingIndicator';
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to hide typing indicator
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        // Function to display options
        function displayOptions(options) {
            // Clear previous options
            chatOptions.innerHTML = '';
            
            // Add new options
            options.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.classList.add('chat-option');
                optionButton.textContent = option.text;
                optionButton.dataset.value = option.value;
                chatOptions.appendChild(optionButton);
                
                // Add event listener to option button
                optionButton.addEventListener('click', () => {
                    // Add user's selection as a message
                    addMessage(option.text, 'user');
                    
                    // Handle special actions
                    if (option.value === 'goto_form') {
                        // Scroll to contact form
                        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
                        // Focus on name input after scrolling
                        setTimeout(() => {
                            document.getElementById('name').focus();
                        }, 1000);
                        // Close chat after a delay
                        setTimeout(() => {
                            chatContainer.classList.remove('active');
                        }, 2000);
                        return;
                    }
                    
                    // Show typing indicator
                    showTypingIndicator();
                    
                    // Simulate bot thinking and then respond
                    setTimeout(() => {
                        hideTypingIndicator();
                        
                        // Get response content based on option value
                        const responseContent = reflexologyContent[option.value];
                        if (responseContent) {
                            // Add bot response
                            addMessage(responseContent.message, 'bot');
                            
                            // Display new options
                            displayOptions(responseContent.options);
                        }
                    }, 1000); // Simulate typing delay
                });
            });
        }
        
        // Initialize chat when icon is clicked
        if (chatIcon && chatContainer && chatClose) {
            chatIcon.addEventListener('click', () => {
                // Remove notification when clicked
                const notification = chatIcon.querySelector('.notification');
                if (notification) {
                    notification.style.display = 'none';
                }
                
                // Show chat container
                chatContainer.classList.add('active');
                
                // If chat is empty, initialize with welcome message
                if (chatMessages.children.length === 0) {
                    // Show typing indicator
                    showTypingIndicator();
                    
                    // Simulate bot thinking and then respond with welcome message
                    setTimeout(() => {
                        hideTypingIndicator();
                        addMessage(reflexologyContent.welcome.message, 'bot');
                        displayOptions(reflexologyContent.welcome.options);
                    }, 1000);
                }
            });
            
            // Close chat when close button is clicked
            chatClose.addEventListener('click', () => {
                chatContainer.classList.remove('active');
            });
            
            // Handle user input from text field
            if (chatInput && chatSend) {
                // Send message when send button is clicked
                chatSend.addEventListener('click', sendUserMessage);
                
                // Send message when Enter key is pressed
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendUserMessage();
                    }
                });
                
                function sendUserMessage() {
                    const userMessage = chatInput.value.trim();
                    if (userMessage) {
                        // Add user message to chat
                        addMessage(userMessage, 'user');
                        
                        // Clear input field
                        chatInput.value = '';
                        
                        // Show typing indicator
                        showTypingIndicator();
                        
                        // Simulate bot thinking and then respond
                        setTimeout(() => {
                            hideTypingIndicator();
                            
                            // Simple keyword-based response
                            let responseKey = 'welcome'; // Default to welcome
                            
                            if (userMessage.toLowerCase().includes('ραντεβού') || 
                                userMessage.toLowerCase().includes('κλείσω') || 
                                userMessage.toLowerCase().includes('επικοινωνία')) {
                                responseKey = 'booking';
                            } else if (userMessage.toLowerCase().includes('τιμ') || 
                                      userMessage.toLowerCase().includes('κοστ') || 
                                      userMessage.toLowerCase().includes('ευρώ') || 
                                      userMessage.toLowerCase().includes('€')) {
                                responseKey = 'prices';
                            } else if (userMessage.toLowerCase().includes('οφέλ') || 
                                      userMessage.toLowerCase().includes('βοηθά')) {
                                responseKey = 'benefits';
                            } else if (userMessage.toLowerCase().includes('ρεφλεξολογία') || 
                                      userMessage.toLowerCase().includes('τι είναι')) {
                                responseKey = 'what_is_reflexology';
                            }
                            
                            // Add bot response
                            addMessage(reflexologyContent[responseKey].message, 'bot');
                            
                            // Display new options
                            displayOptions(reflexologyContent[responseKey].options);
                        }, 1500); // Slightly longer delay for typing response to user input
                    }
                }
            }
            
            // Show notification after a delay for demo purposes
            setTimeout(() => {
                const notification = chatIcon.querySelector('.notification');
                if (notification) {
                    notification.style.display = 'flex';
                }
            }, 5000);
        }
        
        /* Testimonial Carousel Functionality */
        const testimonialSlides = document.querySelectorAll('.testimonial-slide');
        const prevButton = document.querySelector('.testimonial-arrow.prev');
        const nextButton = document.querySelector('.testimonial-arrow.next');
        const dots = document.querySelectorAll('.dot');
        let currentSlide = 0;
        let testimonialInterval;
        
        // Function to show a specific slide
        function showSlide(index) {
            // Hide all slides
            testimonialSlides.forEach(slide => {
                slide.classList.remove('active');
            });
            
            // Deactivate all dots
            dots.forEach(dot => {
                dot.classList.remove('active');
            });
            
            // Show the selected slide and activate corresponding dot
            testimonialSlides[index].classList.add('active');
            dots[index].classList.add('active');
            
            // Update current slide index
            currentSlide = index;
        }
        
        // Function to show the next slide
        function nextSlide() {
            let nextIndex = currentSlide + 1;
            if (nextIndex >= testimonialSlides.length) {
                nextIndex = 0;
            }
            showSlide(nextIndex);
        }
        
        // Function to show the previous slide
        function prevSlide() {
            let prevIndex = currentSlide - 1;
            if (prevIndex < 0) {
                prevIndex = testimonialSlides.length - 1;
            }
            showSlide(prevIndex);
        }
        
        // Start auto-rotation
        function startAutoRotation() {
            // Clear any existing interval
            if (testimonialInterval) {
                clearInterval(testimonialInterval);
            }
            
            // Set new interval to change slides every 4 seconds
            testimonialInterval = setInterval(() => {
                nextSlide();
            }, 4000);
        }
        
        // Event listeners for manual navigation
        if (prevButton && nextButton) {
            prevButton.addEventListener('click', () => {
                prevSlide();
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
            
            nextButton.addEventListener('click', () => {
                nextSlide();
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
        }
        
        // Event listeners for dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                showSlide(index);
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
        });
        
        // Start auto-rotation when the page loads
        startAutoRotation();
        
        /* Gallery Lightbox Functionality */
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxClose = document.querySelector('.lightbox-close');
        const galleryBtns = document.querySelectorAll('.gallery-btn');
        const galleryItems = document.querySelectorAll('.gallery-item');
        
        // Open lightbox when gallery button is clicked
        galleryBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent event bubbling
                const imgSrc = btn.getAttribute('data-img');
                lightboxImg.src = imgSrc;
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling when lightbox is open
            });
        });
        
        // Also open lightbox when gallery item is clicked
        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                const imgSrc = item.querySelector('.gallery-btn').getAttribute('data-img');
                lightboxImg.src = imgSrc;
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        // Close lightbox when close button is clicked
        lightboxClose.addEventListener('click', () => {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        });
        
        // Close lightbox when clicking outside the image
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
        
        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    </script>
    </main>
</body>
</html>