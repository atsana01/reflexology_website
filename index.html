<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anastasia Reflexology - Ρεφλεξολογία &amp; Ευεξία στη Βέροια</title>
    <meta name="description" content="Ανακαλύψτε την τέχνη της ρεφλεξολογίας με την Αναστασία. Εξατομικευμένες συνεδρίες σε έναν πλήρως προσβάσιμο χώρο στη Βέροια για χαλάρωση και ευεξία.">
    <link rel="icon" href="pictures/logo.png" type="image/png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display:wght@400;700&family=Noto+Sans+Greek:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> <!-- Added stylesheet link -->
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ================================== NAVIGATION ================================== -->
       <header>
        <div class="navbar">
            <a href="#home" class="logo">
                <img src="pictures/logo.png" alt="Anastasia Reflexology Logo" class="logo-img">
                <span class="logo-text">Anastasia Reflexology</span>
            </a>
            <button class="mobile-nav-toggle" aria-label="Μενού" aria-expanded="false" aria-controls="mobileNavPanel">
                <span>☰</span> <!-- Simple hamburger icon -->
            </button>
            <nav class="desktop-nav" aria-label="Κύρια Μενού">
                <ul>
                    <li><a href="#home">Αρχική</a></li>
                    <li><a href="#about">Σχετικά</a></li>
                    <li><a href="#discover-reflexology">Πληροφορίες</a></li>
                    <li><a href="#services">Υπηρεσίες</a></li>
                    <li><a href="#gallery">Εικόνες</a></li>
                    <li><a href="#location">Τοποθεσία</a></li>
                    <li><a href="#contact">Επικοινωνία</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div id="mobileNavPanel" class="mobile-nav-panel">
        <div class="panel-header"> <!-- Added panel-header div -->
            <span class="panel-title">Μενού</span> <!-- Added title -->
            <button class="mobile-nav-close" aria-label="Κλείσιμο μενού">✖</button>
        </div>
        <ul>
            <li><a href="#home">Αρχική</a></li>
            <li><a href="#about">Σχετικά</a></li>
            <li><a href="#discover-reflexology">Πληροφορίες</a></li>
            <li><a href="#services">Υπηρεσίες</a></li>
            <li><a href="#gallery">Εικόνες</a></li>
            <li><a href="#location">Τοποθεσία</a></li>
            <li><a href="#contact">Επικοινωνία</a></li>
        </ul>
    </div>

    <!-- ================================== HERO ================================== -->
    <section id="home" class="hero" aria-label="Εισαγωγική Ενότητα">
        <div>
            <h1>Ανακαλύψτε την Ευεξία με Ρεφλεξολογία</h1>
            <p>Σώμα, νου και ψυχή σε αρμονία!</p>
            <p>Η ρεφλεξολογία είναι μια φυσική και ήπια μέθοδος που υποστηρίζει την υγεία σας σε πολλαπλά επίπεδα. Από την αποτοξίνωση και τον καλύτερο ύπνο, μέχρι την ενίσχυση του ανοσοποιητικού, την ορμονική ισορροπία και την ανακούφιση μυοσκελετικών ή πεπτικών προβλημάτων, κάθε συνεδρία είναι ένα βήμα προς τη συνολική ευεξία.</p>
            <a class="btn btn-primary btn-icon" href="#contact">
                <i class="fas fa-calendar-check"></i> Κλείσε Ραντεβού
            </a>
        </div>
    </section>

    <!-- ================================== ABOUT ================================== -->
    <section id="about" aria-labelledby="about-heading">
        <div class="container about-grid">
            <div class="slide-in-left">
                <h2 id="about-heading">Γνωρίστε την Αναστασία</h2>
                <p>Η <strong>Αναστασία</strong> είναι πιστοποιημένη ρεφλεξολόγος με πολυετή εμπειρία και αφοσίωση στην ολιστική φροντίδα. Στον σύγχρονο και πλήρως προσβάσιμο χώρο της, προσφέρει εξατομικευμένες θεραπείες που ανακουφίζουν από το άγχος, βελτιώνουν τον ύπνο και ενισχύουν τη συνολική ευεξία.</p>

                <p>Στόχος της είναι κάθε συνεδρία να αποτελεί μια ουσιαστική εμπειρία χαλάρωσης και αναζωογόνησης – μια πραγματική επένδυση στην υγεία και την ποιότητα ζωής σας.</p>

                <span class="accessible-badge scale-in" aria-label="Προσβάσιμο για ΑΜΕΑ">
                    <!-- Simple wheelchair icon (explicit size and stable SVG attributes for WebKit) -->
                    <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M14 11h-1V5a3 3 0 10-2 0v6a1 1 0 001 1h3a3 3 0 010 6h-1v2h1a5 5 0 000-10zM8 21a4 4 0 100-8 4 4 0 000 8z"/></svg>
                    <span>Προσβάσιμος Χώρος</span>
                </span>
            </div>
            <div class="slide-in-right">
                <img src="pictures/portrait.png" alt="Διάγραμμα αντανακλαστικών σημείων στα πόδια" class="parallax" data-speed="0.05" loading="lazy">
            </div>
        </div>
    </section>

    
     <!-- ================================== DISCOVER REFLEXOLOGY (NEW) ================================== -->
    <section id="discover-reflexology" aria-labelledby="discover-heading">
        <div class="container fade-in">
            <header class="discover-header">
                <h2 id="discover-heading">Ανακαλύψτε τη Ρεφλεξολογία</h2>
                <p>Αναζωογονεί σώμα και νου. Μειώνει στρες και ένταση. Υποστηρίζει φυσικές διαδικασίες αυτοΐασης. Προάγει ενέργεια, χαλάρωση και ισορροπία</p>
            
            </header>

            <div class="discover-main-content">
                <div class="discover-image-wrapper">
                    <img src="pictures/chart.jpg" alt="Διάγραμμα αντανακλαστικών σημείων ρεφλεξολογίας" style="width: 100%; max-width: 600px; display: block; margin: 20px auto;" loading="lazy">
                </div>
                <div class="discover-text">
                    <h3>Τι Είναι Πραγματικά η Ρεφλεξολογία;</h3>
                    <p>Η ρεφλεξολογία είναι μια ολιστική θεραπευτική μέθοδος που βασίζεται στην ύπαρξη αντανακλαστικών σημείων στα πέλματα, τις παλάμες και τα αυτιά. Κάθε τέτοιο σημείο συνδέεται ενεργειακά με συγκεκριμένα όργανα, αδένες και μέρη του σώματος.</p>
                    <p>Μέσω εξειδικευμένων πιέσεων και φυσικών χειρισμών σε αυτά τα σημεία, ο ρεφλεξολόγος στοχεύει στην απελευθέρωση της ενέργειας, την τόνωση της κυκλοφορίας και την ενεργοποίηση των φυσικών μηχανισμών αυτοθεραπείας του σώματος, οδηγώντας σε μια κατάσταση αρμονίας και ευεξίας.</p>
                </div>
            </div>

            <div class="reflexology-benefits-section">
                <h3 class="benefits-title">Τα Οφέλη που Αγγίζουν την Ευεξία σας</h3>
                <div class="benefits-grid-new">
                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Leaf / detox (explicit size and stable SVG attributes for WebKit) -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M20 7c0 6-6 10-9 11-1-3 0-9 3-13 3-4 6-5 6-5s0 1-0 7z" />
                                <path d="M7 17c2-1 4-3 6-6" />
                            </svg>
                        </span>
                        <h4>Φυσική Αποτοξίνωση &amp; Ρεφλεξολογία</h4>
                        <ul class="benefit-list">
                            <li>Συμβάλλει στην απομάκρυνση τοξινών</li>
                            <li>Αναζωογονεί ενέργεια και διάθεση</li>
                            <li>Μειώνει στρες και σωματική ένταση</li>
                        </ul>
                    </div>

                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Moon + star (sleep) -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M21 12.8A8.5 8.5 0 1 1 11.2 3 6.5 6.5 0 0 0 21 12.8z" />
                                <path d="M6.5 4.5l.9.9M4 6l1 .2M3 3l.6 1.6" />
                            </svg>
                        </span>
                        <h4>Ο Καλύτερος Ύπνος</h4>
                        <ul class="benefit-list">
                            <li>Εξισορροπεί το νευρικό σύστημα</li>
                            <li>Μειώνει άγχος και υπερένταση</li>
                            <li>Υποστηρίζει σταθερό κύκλο ύπνου</li>
                        </ul>
                    </div>

                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Shield with plus (immunity) -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M12 2l7 4v5c0 5-4 9-7 11-3-2-7-6-7-11V6l7-4z" />
                                <path d="M12 9v6M9 12h6" />
                            </svg>
                        </span>
                        <h4>Ανοσοποιητικό &amp; Αυτοάνοσα</h4>
                        <ul class="benefit-list">
                            <li>Ενεργοποιεί απαλά λέμφο και κυκλοφορία</li>
                            <li>Μειώνει το στρες που επηρεάζει τις άμυνες</li>
                            <li>Ενισχύει το αίσθημα ζωτικότητας</li>
                        </ul>
                    </div>

                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Spine / vertebrae (musculoskeletal) -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M12 3v18" />
                                <circle cx="12" cy="7" r="1" />
                                <circle cx="12" cy="11" r="1" />
                                <circle cx="12" cy="15" r="1" />
                                <circle cx="12" cy="19" r="1" />
                            </svg>
                        </span>
                        <h4>Μυοσκελετικά Προβλήματα</h4>
                        <ul class="benefit-list">
                            <li>Βελτιώνει την τοπική κυκλοφορία</li>
                            <li>Ανακουφίζει από πόνους και κράμπες</li>
                            <li>Προάγει χαλάρωση και ευελιξία</li>
                        </ul>
                    </div>

                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Scales / balance (hormonal balance) -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M3 7h18" />
                                <path d="M7 7v6" />
                                <path d="M17 7v6" />
                                <path d="M5 13c2 3 4 3 6 0" />
                                <path d="M13 13c2 3 4 3 6 0" />
                                <path d="M12 3v4" />
                            </svg>
                        </span>
                        <h4>Ορμονική Ισορροπία</h4>
                        <ul class="benefit-list">
                            <li>Υποστηρίζει ωοθήκες και επινεφρίδια</li>
                            <li>Μειώνει συμπτώματα εμμηνόπαυσης/ακανόνιστης ρύσης</li>
                            <li>Ενισχύει την ψυχική ισορροπία</li>
                        </ul>
                    </div>

                    <div class="benefit-card-new">
                        <span class="benefit-icon-new" aria-hidden="true">
                            <!-- Stomach / digestion -->
                            <svg width="44" height="44" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M7 8c2-3 10-3 11 1 1 4-1 8-6 9-5 1-6-3-6-6 0-2 0-3 1-4z" />
                                <path d="M9 11c1 1 3 1 4 0" />
                            </svg>
                        </span>
                        <h4>Πεπτικό Σύστημα</h4>
                        <ul class="benefit-list">
                            <li>Υποστηρίζει πέψη και λειτουργία εντέρων</li>
                            <li>Μειώνει δυσφορία και βάρος στην κοιλιά</li>
                            <li>Ενισχύει ενέργεια και αίσθηση άνεσης</li>
                        </ul>
                    </div>
                </div>
                <p class="benefits-note">Σημείωση: Οι θεραπείες είναι συμπληρωματικές και δεν αντικαθιστούν ιατρική διάγνωση ή αγωγή. Αν έχετε ιατρική πάθηση, συμβουλευτείτε τον ιατρό σας.</p>
                <div class="discover-cta-wrapper">
                    <a href="#contact" class="btn btn-secondary btn-icon">
                        <i class="fas fa-spa"></i> Ζήστε την Εμπειρία της Ρεφλεξολογίας
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!-- ================================== END DISCOVER REFLEXOLOGY (NEW) ================================== -->


    <!-- ================================== SERVICES ================================== -->
         <section id="services" aria-labelledby="services-heading">
        <div class="container fade-in">
            <h2 id="services-heading">Υπηρεσίες</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Ρεφλεξολογία</h3>
                    <p class="service-duration">45 λεπτά</p>
                    <p class="service-price-tag">30€</p>
                </div>
                <div class="service-card">
                    <h3>Πακέτο 10 Συνεδριών</h3>
                    <p class="service-description">Επωφεληθείτε από την ειδική μας προσφορά για ολοκληρωμένη φροντίδα.</p>
                    <p class="service-price-tag">270€</p>
                </div>
               <div class="service-card">
    <h3>Μίνι Ρεφλεξολογία</h3>
    <p class="service-duration">30 λεπτά</p>
    <p class="service-description">Γρήγορη συνεδρία για άμεση χαλάρωση και ανανέωση.</p>
    <p class="service-price-tag">20€</p>
</div>

<div class="service-card">
    <h3>Ρεφλεξολογία Κεφαλής & Προσώπου</h3>
    <p class="service-duration">30 λεπτά</p>
    <p class="service-description">Ιδανική επιλογή για τόνωση ενέργειας και μείωση στρες.</p>
    <p class="service-price-tag">20€</p>
</div>
            </div>
        </div>
    </section>

    <!-- ================================== HOURS ================================== 
    <section id="hours" aria-labelledby="hours-heading">
        <div class="container fade-in">
            <h2 id="hours-heading">Ώρες Λειτουργίας</h2>
            <table aria-describedby="hours-heading">
                <tr><th scope="col">Ημέρα</th><th scope="col">Ώρες</th></tr>
                <tr><td>Δευτέρα</td><td>12:00 – 19:00</td></tr>
                <tr><td>Τρίτη</td><td>12:30 – 20:00</td></tr>
                <tr><td>Τετάρτη</td><td>15:00 – 20:30</td></tr>
                <tr><td>Πέμπτη</td><td>14:00 – 20:30</td></tr>
                <tr><td>Παρασκευή</td><td>15:00 – 20:00</td></tr>
                <tr><td>Σάββατο</td><td>Κατόπιν ραντεβού</td></tr>
                <tr><td>Κυριακή</td><td>Κλειστά</td></tr>
            </table>
        </div>
    </section>-->

    <!-- ================================== GALLERY ================================== -->
    <section id="gallery" aria-labelledby="gallery-heading">
        <div class="container fade-in">
            <h2 id="gallery-heading">Εξερευνήστε τους Χώρους μας</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="pictures/space1.jpg" alt="Χώρος θεραπείας 1" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Χώρος Υποδοχής</h3>
                            <p>Ένας ζεστός και φιλόξενος χώρος για να σας καλωσορίσουμε</p>
                            <button class="gallery-btn" data-img="pictures/space1.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space2.jpg" alt="Χώρος θεραπείας 2" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Δωμάτιο Θεραπείας</h3>
                            <p>Ειδικά σχεδιασμένο για την απόλυτη χαλάρωση και άνεση</p>
                            <button class="gallery-btn" data-img="pictures/space2.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space3.jpg" alt="Χώρος θεραπείας 3" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Γωνιά Χαλάρωσης</h3>
                            <p>Ένας ήρεμος χώρος για να απολαύσετε το τσάι σας μετά τη συνεδρία</p>
                            <button class="gallery-btn" data-img="pictures/space3.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="pictures/space4.jpg" alt="Χώρος θεραπείας 4" loading="lazy" class="gallery-image">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h3>Προσβάσιμη Είσοδος</h3>
                            <p>Πλήρως προσβάσιμος χώρος για όλους τους επισκέπτες</p>
                            <button class="gallery-btn" data-img="pictures/space4.jpg" aria-label="Προβολή σε πλήρες μέγεθος">
                                <i class="fas fa-search-plus"></i> Μεγέθυνση
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Lightbox Modal -->
        <div id="lightbox" class="lightbox">
            <button class="lightbox-close" aria-label="Κλείσιμο προβολής εικόνας">&times;</button>
            <div class="lightbox-content">
                <img id="lightbox-img" src="" alt="Προβολή εικόνας σε πλήρες μέγεθος">
            </div>
        </div>
    </section>

    <!-- ================================== LOCATION ================================== -->
               <section id="location" aria-labelledby="location-heading">
        <div class="container fade-in">
            <h2 id="location-heading">Πώς θα μας βρείτε</h2>
            <p>Η έδρα μας βρίσκεται: <strong>Ιπποκράτους 28, Βέροια</strong>. Ο χώρος είναι προσβάσιμος σε ΑΜΕΑ. Για ραντεβού και πληροφορίες, παρακαλούμε επικοινωνήστε τηλεφωνικώς.</p>
            <div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,0.25)">
                <iframe title="Χάρτης Anastasia Reflexology" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3144.379385514898!2d22.203786!3d40.5238018!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1357929adec91ca3%3A0xcc86b56fc121c10b!2sIppokratous%2028%2C%20Veria%20591%2032!5e0!3m2!1sel!2sgr!4v1717100000000!5m2!1sel!2sgr" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>

    <!-- ================================== TESTIMONIALS ================================== -->
    <section id="testimonials" aria-labelledby="testimonials-heading">
        <div class="container fade-in">
            <h2 id="testimonials-heading">Μαρτυρίες Πελατών</h2>
            <div class="testimonial-carousel">
                <div class="testimonial-container">
                    <div class="testimonial-slide active">
                        <div class="testimonial">
                            <p><strong>Δέσποινα Ζ.</strong> – «Μετά από μερικές συνεδρίες, ένιωσα τεράστια βελτίωση στην ενέργειά μου και τα προβλήματα πόνου εξαφανίστηκαν!»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Πέτρος Δ.</strong> – «Η ρεφλεξολογία με βοήθησε να μειώσω το στρες και να κοιμάμαι καλύτερα από ποτέ!»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Μαρία Κ.</strong> – «Η Αναστασία είναι εξαιρετική επαγγελματίας! Η τεχνική της είναι άψογη και ο χώρος της πολύ άνετος και χαλαρωτικός.»</p>
                        </div>
                    </div>
                    <div class="testimonial-slide">
                        <div class="testimonial">
                            <p><strong>Γιώργος Μ.</strong> – «Υπέφερα από πόνους στην πλάτη για χρόνια. Μετά από 5 συνεδρίες ρεφλεξολογίας, αισθάνομαι επιτέλους ανακούφιση!»</p>
                        </div>
                    </div>
                </div>
                <button class="testimonial-arrow prev" aria-label="Προηγούμενη μαρτυρία">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="testimonial-arrow next" aria-label="Επόμενη μαρτυρία">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="testimonial-dots">
                    <span class="dot active" data-index="0"></span>
                    <span class="dot" data-index="1"></span>
                    <span class="dot" data-index="2"></span>
                    <span class="dot" data-index="3"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- ================================== CONTACT ================================== -->
        <section id="contact" aria-labelledby="contact-heading">
        <div class="container fade-in">
            <h2 id="contact-heading">Επικοινωνία &amp; Ραντεβού</h2>
            <p>Τηλέφωνο: <a href="tel:+306976222211">+30 697 622 2211</a><br>
               Email: <a href="mailto:anastasiareflexology@gmail.com">anastasiareflexology@gmail.com</a><br>
               Ιστότοπος: <a href="https://www.anastasiatouch.com" target="_blank" rel="noopener">www.anastasiatouch.com</a></p>
            <form id="contactForm" class="fs-form" action="https://formspree.io/f/mpwlgpqq" method="POST" target="_top">
                <label for="name" class="visually-hidden">Ονοματεπώνυμο</label>
                <input type="text" id="name" name="name" placeholder="Ονοματεπώνυμο" required>

                <label for="email" class="visually-hidden">Email</label>
                <input type="email" id="email" name="email" placeholder="Email" required>

                <label for="phone" class="visually-hidden">Κινητό τηλέφωνο</label>
                <input type="tel" id="phone" name="phone" placeholder="Κινητό τηλέφωνο">

                <!-- Honeypot field (hidden to users) - bots that fill this will be blocked -->
                <label for="website" class="visually-hidden">Website</label>
                <input type="text" id="website" name="website" class="visually-hidden" placeholder="Website" tabindex="-1" autocomplete="off">

                <!-- Hidden field for reply-to email -->
                <input type="hidden" name="_replyto" id="formReplyTo">

                <label for="message" class="visually-hidden">Μήνυμα</label>
                <textarea id="message" name="message" placeholder="Μήνυμα" required></textarea>
                <button type="submit" class="btn btn-primary btn-icon">
                    <i class="fas fa-paper-plane"></i> Αποστολή
                </button>
            </form>
        </div>
    </section>

    <!-- ================================== FOOTER ================================== -->
    <footer>
        <p>&copy; 2025 Anastasia Reflexology. All rights reserved.</p>
    </footer>

    <!-- BACK TO TOP BUTTON -->
    <button id="topBtn" aria-label="Επιστροφή στην κορυφή">▲</button>
    
    <!-- FLOATING CHAT INTERFACE -->
    <div class="chat-icon" id="chatIcon" aria-label="Συνομιλία με εμάς">
        <i class="fas fa-comments"></i>
        <span class="notification">1</span>
    </div>
    
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">
            <div class="chat-title">
                <img src="pictures/logo.png" alt="Anastasia Reflexology Logo" class="chat-logo">
                <span>Βοηθός Ρεφλεξολογίας</span>
            </div>
            <button class="chat-close" id="chatClose" aria-label="Κλείσιμο συνομιλίας">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <!-- Messages will be added here dynamically -->
        </div>
        
        <div class="chat-options" id="chatOptions">
            <!-- Options will be added here dynamically -->
        </div>
        
        <div class="chat-input-container">
            <input type="text" id="chatInput" placeholder="Γράψτε το μήνυμά σας..." aria-label="Γράψτε το μήνυμά σας">
            <button id="chatSend" aria-label="Αποστολή μηνύματος">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    <main>
    <!-- ================================== SCRIPTS ================================== -->
    <script>
        /* Back-to-top visibility and header scroll effect */
        const topBtn = document.getElementById('topBtn');
        const header = document.querySelector('header');
        
        window.addEventListener('scroll', () => {
            // Back to top button visibility
            if (topBtn) {
                if (document.documentElement.scrollTop > 450) topBtn.style.display = 'block';
                else topBtn.style.display = 'none';
            }
            
            // Header scroll effect
            if (document.documentElement.scrollTop > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        if (topBtn) {
            topBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
        }

        /* Ensure floating controls (topBtn, chatIcon) stay above mobile browser UI (address/search bar)
           by adjusting their bottom offset using visualViewport when available. */
        (function setupFloatingOffsets() {
            const chatIconEl = document.getElementById('chatIcon');

            function updateFloatingPositions() {
                // base offset in px from bottom
                const baseOffset = 30;
                let extra = 0;
                if (window.visualViewport) {
                    // visualViewport.height may be smaller when browser UI is visible
                    // compute the inset between layout viewport and visual viewport
                    extra = Math.max(0, window.innerHeight - window.visualViewport.height - (window.visualViewport.offsetTop || 0));
                }

                const total = baseOffset + Math.round(extra);

                if (topBtn) topBtn.style.bottom = total + 'px';
                if (chatIconEl) chatIconEl.style.bottom = total + 'px';
            }

            // Update on relevant events
            if (window.visualViewport) {
                window.visualViewport.addEventListener('resize', updateFloatingPositions);
                window.visualViewport.addEventListener('scroll', updateFloatingPositions);
            }
            window.addEventListener('resize', updateFloatingPositions);
            window.addEventListener('orientationchange', updateFloatingPositions);
            // initial call
            updateFloatingPositions();
        })();

        // Mobile Navigation Panel Script
        const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
        const mobileNavPanel = document.getElementById('mobileNavPanel');
        const mobileNavClose = document.querySelector('.mobile-nav-close');
        const mobileNavLinks = mobileNavPanel.querySelectorAll('a');

        if (mobileNavToggle && mobileNavPanel && mobileNavClose) {
            mobileNavToggle.addEventListener('click', () => {
                const isExpanded = mobileNavToggle.getAttribute('aria-expanded') === 'true' || false;
                mobileNavToggle.setAttribute('aria-expanded', !isExpanded);
                mobileNavPanel.classList.toggle('open');
                document.body.classList.toggle('no-scroll'); // Optional: prevent body scroll when panel is open
            });

            mobileNavClose.addEventListener('click', () => {
                mobileNavToggle.setAttribute('aria-expanded', 'false');
                mobileNavPanel.classList.remove('open');
                document.body.classList.remove('no-scroll');
            });

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileNavToggle.setAttribute('aria-expanded', 'false');
                    mobileNavPanel.classList.remove('open');
                    document.body.classList.remove('no-scroll');
                });
            });
        }

        const contactForm = document.getElementById('contactForm');
        // Create a status message element if it doesn't exist, or select an existing one
        let formStatusMessage = document.getElementById('formStatusMessage');
        if (!formStatusMessage) {
            formStatusMessage = document.createElement('p');
            formStatusMessage.id = 'formStatusMessage';
            // Insert after the form, or adjust as needed
            if (contactForm) contactForm.parentNode.insertBefore(formStatusMessage, contactForm.nextSibling);
        }
        formStatusMessage.setAttribute('aria-live', 'polite'); // For accessibility

        function validateAndPrepareForm() { // Renamed for clarity
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            const honeypot = document.getElementById('website');
            
            formStatusMessage.textContent = ''; // Clear previous message
            formStatusMessage.className = ''; // Clear previous styling

            // Honeypot check: if the hidden 'website' field has a value, block as spam
            if (honeypot && honeypot.value.trim() !== '') {
                console.warn('Honeypot triggered - blocking submission');
                formStatusMessage.textContent = 'Υποψία ανεπιθύμητης αποστολής (spam). Η αποστολή αποκλείστηκε.';
                formStatusMessage.classList.add('status-error');
                return false;
            }
            if (!name || !email || !message) { 
                formStatusMessage.textContent = 'Παρακαλούμε συμπληρώστε όλα τα πεδία.';
                formStatusMessage.classList.add('status-error'); // Add a class for styling
                return false; 
            }
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { // Basic email validation
                formStatusMessage.textContent = 'Παρακαλούμε εισάγετε μια έγκυρη διεύθυνση email.';
                formStatusMessage.classList.add('status-error');
                return false;
            }
            const formReplyTo = document.getElementById('formReplyTo');
            if (formReplyTo) formReplyTo.value = email; // Ensure _replyto field is populated
            return true;
        }

        if (contactForm) {
            contactForm.addEventListener('submit', function(event) {
                // If the form action points to Formspree, run validation and allow normal submission
                const actionRaw = contactForm.getAttribute('action') || '';
                const action = actionRaw.toLowerCase();

                // Detect placeholder left in action (e.g. {FORM_ID}) and show helpful error
                if (actionRaw.includes('{') || actionRaw.includes('FORM_ID')) {
                    event.preventDefault();
                    formStatusMessage.textContent = 'Σφάλμα: Το πεδίο action της φόρμας περιέχει το {FORM_ID}. Παρακαλώ αντικαταστήστε το {FORM_ID} με το αναγνωριστικό της φόρμας σας στο Formspree (π.χ. https://formspree.io/f/abc123).';
                    formStatusMessage.classList.remove('status-success');
                    formStatusMessage.classList.add('status-error');
                    return;
                }

                if (action.includes('formspree.io')) {
                    // Run client-side validation and let the browser submit the form to Formspree
                    if (!validateAndPrepareForm()) {
                        // Prevent submission if validation fails
                        event.preventDefault();
                        return;
                    }

                    // Show a status message and allow the form to post to Formspree
                    formStatusMessage.textContent = 'Αποστολή...';
                    formStatusMessage.classList.remove('status-error', 'status-success');
                    // Do not call preventDefault() — let the browser submit the form
                    return;
                }

                // Otherwise, use the existing local POST-to-server flow
                event.preventDefault();

                if (!validateAndPrepareForm()) {
                    return;
                }

                const formData = new FormData(contactForm);
                // Convert FormData to a plain object for JSON stringification
                const plainFormData = Object.fromEntries(formData.entries());

                formStatusMessage.textContent = 'Αποστολή...';
                formStatusMessage.classList.remove('status-error', 'status-success');
                console.log('Form data prepared, attempting to fetch http://localhost:3000/send-email');

                fetch('http://localhost:3000/send-email', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json' // Set content type to JSON
                    },
                    body: JSON.stringify(plainFormData) // Send data as JSON
                })
                .then(response => {
                    console.log('Raw response from server:', response); // Log the raw response object
                    if (!response.ok) {
                        console.error('Response not OK. Status:', response.status, response.statusText);
                    }
                    return response.text().then(text => {
                        console.log('Response text from server:', text); // Log the actual text content of the response
                        return {ok: response.ok, status: response.status, text };
                    });
                })
                .then(data => {
                    console.log('Processed data object:', data); // Log the object we created
                    if (data.ok) {
                        formStatusMessage.textContent = data.text || 'Ευχαριστούμε! Το μήνυμά σας έχει σταλεί.';
                        formStatusMessage.classList.add('status-success');
                        contactForm.reset();
                    } else {
                        let errorMessage = data.text || `Σφάλμα διακομιστή (HTTP ${data.status}). Ελέγξτε την κονσόλα.`;
                        if (data.text === "Κάτι πήγε στραβά. Παρακαλούμε δοκιμάστε ξανά." && data.status !== 200) {
                             errorMessage = `Σφάλμα από τον διακομιστή (HTTP ${data.status}): ${data.text || 'Δεν επιστράφηκε συγκεκριμένο μήνυμα.'} Ελέγξτε την κονσόλα.`;
                        }
                        formStatusMessage.textContent = errorMessage;
                        formStatusMessage.classList.add('status-error');
                    }
                })
                .catch(error => {
                    console.error('Fetch Error (Network issue or script not found/erroring before response):', error);
                    formStatusMessage.textContent = 'Σφάλμα δικτύου ή αποστολής. Ελέγξτε τη σύνδεσή σας και την κονσόλα για λεπτομέρειες.';
                    formStatusMessage.classList.add('status-error');
                });
            });
        }

        /* Intersection Observer for animations */
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) { 
                    entry.target.classList.add('visible'); 
                    observer.unobserve(entry.target); 
                }
            });
        }, { threshold: 0.2 });
        
        // Apply to all animated elements
        document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in').forEach(el => observer.observe(el));
        
        /* Parallax Effect */
        const parallaxElements = document.querySelectorAll('.parallax');
        
        window.addEventListener('scroll', () => {
            parallaxElements.forEach(el => {
                const speed = el.getAttribute('data-speed') || 0.1;
                const yPos = -(window.scrollY * speed);
                el.style.transform = `translateY(${yPos}px)`;
            });
        });
        
        /* Chat Interface Functionality */
        const chatIcon = document.getElementById('chatIcon');
        const chatContainer = document.getElementById('chatContainer');
        const chatClose = document.getElementById('chatClose');
        const chatMessages = document.getElementById('chatMessages');
        const chatOptions = document.getElementById('chatOptions');
        const chatInput = document.getElementById('chatInput');
        const chatSend = document.getElementById('chatSend');
        
        // Expanded Greek-only educational & booking content for the chatbot
        const reflexologyContent = {
            welcome: {
                message: "Καλώς ήρθατε στο χώρο ρεφλεξολογίας της Αναστασίας! Πώς μπορώ να σας βοηθήσω σήμερα;",
                options: [
                    { text: "Τι είναι η ρεφλεξολογία;", value: "what_is_reflexology" },
                    { text: "Οφέλη / Τriage (στόχοι)", value: "triage_menu" },
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Τιμές & Πακέτα", value: "prices" },
                    { text: "FAQs", value: "faqs" }
                ]
            },
            what_is_reflexology: {
                message: "Η ρεφλεξολογία είναι μια ολιστική μέθοδος που δουλεύει σε αντανακλαστικά σημεία (πόδια, χέρια, αυτιά) για να υποστηρίξει την κυκλοφορία, τη χαλάρωση και τις φυσικές διαδικασίες αυτοΐασης.",
                options: [
                    { text: "Πώς λειτουργεί;", value: "how_it_works" },
                    { text: "Τι να περιμένω στην 1η συνεδρία;", value: "first_session" },
                    { text: "Επιστροφή", value: "welcome" }
                ]
            },
            how_it_works: {
                message: "Με ήπιες, στοχευμένες πιέσεις στα αντανακλαστικά σημεία ενεργοποιούμε την κυκλοφορία και την ισορροπία. Η κάθε συνεδρία προσαρμόζεται στις ανάγκες σας.",
                options: [
                    { text: "Οφέλη / Triage", value: "triage_menu" },
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" }
                ]
            },
            triage_menu: {
                message: "Επιλέξτε τι σας ενδιαφέρει (μπορείτε να επιλέξετε περισσότερα):",
                options: [
                    { text: "Καλύτερος ύπνος", value: "triage_sleep" },
                    { text: "Μείωση στρες", value: "triage_stress" },
                    { text: "Μυοσκελετικά", value: "triage_msk" },
                    { text: "Πεπτικό", value: "triage_digest" },
                    { text: "Ορμονική ισορροπία", value: "triage_hormonal" },
                    { text: "Ανοσοποιητικό / Αυτοάνοσα", value: "triage_immune" },
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Επιστροφή", value: "welcome" }
                ]
            },
            triage_sleep: {
                message: "Τι να περιμένετε: Βελτίωση του ύπνου μέσω χαλάρωσης του νευρικού συστήματος. Πρόταση πλάνου: 4–6 συνεδρίες, στην αρχή 1/εβδ. ή 1/εβδ.–2/εβδ. για 4–6 εβδομάδες, μετά συντήρηση κάθε 2–4 εβδομάδες. Διάρκεια/Τιμή: 45′ — 30€ (προτείνεται) ή 30′ — 20€ για γρήγορη ανακούφιση. Disclaimer: Συμπληρωματική φροντίδα — δεν αντικαθιστά ιατρική διάγνωση/θεραπεία.",
                options: [
                    { text: "Πρότεινε μέρα/ώρα", value: "start_booking" },
                    { text: "Τι να περιμένω στην 1η συνεδρία;", value: "first_session" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            triage_stress: {
                message: "Τι να περιμένετε: Μείωση στρες και έντασης, καλύτερη διαχείριση συμπτωμάτων άγχους. Πρόταση πλάνου: 4–6 συνεδρίες σε εβδομαδιαία βάση, μετά συντήρηση. Διάρκεια/Τιμή: 45′ — 30€ ή 30′ — 20€. Disclaimer: Συμπληρωματική φροντίδα — αν λαμβάνετε αγωγή για άγχος, ενημερώστε τον/την ρεφλεξολόγο.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            triage_msk: {
                message: "Τι να περιμένετε: Ανακούφιση πόνων και βελτίωση τοπικής κυκλοφορίας. Πρόταση πλάνου: 4–6 συνεδρίες (1/εβδ.), μετά συντήρηση ανά 2–4 εβδομάδες. Διάρκεια/Τιμή: 45′ — 30€ (προτείνεται). Disclaimer: Αν έχετε πρόσφατο τραυματισμό ή χειρουργείο, συμβουλευτείτε τον ιατρό σας πρώτα.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Αντενδείξεις", value: "contraindications" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            triage_digest: {
                message: "Τι να περιμένετε: Βελτίωση πέψης και μείωση δυσφορίας. Πρόταση πλάνου: 3–6 συνεδρίες, 30′ ή 45′ ανάλογα με τα συμπτώματα. Διάρκεια/Τιμή: 30′ — 20€ / 45′ — 30€. Disclaimer: Σε σοβαρά πεπτικά προβλήματα συμβουλευτείτε ιατρό.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            triage_hormonal: {
                message: "Τι να περιμένετε: Υποστήριξη ορμονικής ισορροπίας, ανακούφιση συμπτωμάτων. Πρόταση πλάνου: 4–6 συνεδρίες + συντήρηση. Διάρκεια/Τιμή: 45′ — 30€. Disclaimer: Σε θέματα γονιμότητας ή σύνθετα ιατρικά περιστατικά, συμβουλευτείτε τον ιατρό σας.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            triage_immune: {
                message: "Τι να περιμένετε: Ελαφριά ενεργοποίηση λέμφου και κυκλοφορίας που στηρίζει την ευεξία. Πρόταση πλάνου: 4–6 συνεδρίες, μετά συντήρηση. Διάρκεια/Τιμή: 45′ — 30€. Disclaimer: Δεν αντικαθιστά ιατρική θεραπεία για αυτοάνοσα.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "Επιστροφή", value: "triage_menu" }
                ]
            },
            contraindications: {
                message: "Σημεία ασφαλείας / αντενδείξεις (γρήγορη λίστα):\n• Πρόσφατη θρόμβωση\n• Σοβαρή λοίμωξη ή πυρετός\n• Ανοιχτά τραύματα στην περιοχή εφαρμογής\n• Υψηλού κινδύνου εγκυμοσύνη\n• Μετεγχειρητικά < 6 εβδομάδες\nΣε αυτές τις περιπτώσεις προτείνεται πρώτα ιατρική συμβουλή.",
                options: [
                    { text: "Θέλω να μιλήσω στον/στην Αναστασία", value: "call" },
                    { text: "Επιστροφή", value: "welcome" }
                ]
            },
            first_session: {
                message: "Τι να περιμένετε στην 1η συνεδρία: Διάρκεια 30′ ή 45′ (επιλογή σας). Φορέστε άνετα ρούχα. Συμβουλές: αποφύγετε βαρύ γεύμα 1–2 ώρες πριν, πιείτε νερό μετά. Μετά τη συνεδρία συνήθως υπάρχει αίσθημα χαλάρωσης ή/και υπνηλία — ξεκουραστείτε. Disclaimer: Συμπληρωματική φροντίδα.",
                options: [
                    { text: "Κλείσιμο ραντεβού", value: "start_booking" },
                    { text: "FAQs", value: "faqs" }
                ]
            },
            prices: {
                message: "Τιμές (ενημερωμένες):\n• Ρεφλεξολογία 45′ — 30€\n• Express 30′ — 20€\n• Ρεφλεξολογία Κεφαλής & Προσώπου — 20€\n• Πακέτο 10 συνεδριών — 270€ (εξοικονόμηση 30€)\nΠληρωμή στο γραφείο. Ακύρωση 24 ώρες πριν.\nΘέλετε να κλείσετε;",
                options: [
                    { text: "Κλείσιμο 45′ — 30€", value: "start_booking_45" },
                    { text: "Κλείσιμο 30′ — 20€", value: "start_booking_30" },
                    { text: "Πακέτο 10 συνεδριών", value: "package_10" },
                    { text: "Επιστροφή", value: "welcome" }
                ]
            },
            package_10: {
                message: "Πακέτο 10 συνεδριών — 270€ (εξοικονόμηση 30€). Ιδανικό για πιο βαθιά και συνεχή υποστήριξη. Θέλετε πληροφορίες ή να κλείσουμε;",
                options: [
                    { text: "Κλείσιμο πακέτου", value: "start_booking_package" },
                    { text: "Επιστροφή", value: "prices" }
                ]
            },
            faqs: {
                message: "Συχνές ερωτήσεις — επέλεξε μία:",
                options: [
                    { text: "Πονάει;", value: "faq_pain" },
                    { text: "Εγκυμοσύνη;", value: "faq_pregnancy" },
                    { text: "Παρενέργειες;", value: "faq_sideeffects" },
                    { text: "Τι να φορέσω;", value: "faq_wear" },
                    { text: "Πότε να έρχομαι;", value: "faq_frequency" },
                    { text: "Δώρα / Κάρτες", value: "gift_card" },
                    { text: "Μαρτυρίες", value: "testimonials_request" },
                    { text: "Επιστροφή", value: "welcome" }
                ]
            },
            faq_pain: { message: "Πονάει; Όχι — εφαρμόζουμε ήπιες, στοχευμένες πιέσεις. Αν νιώσετε ενόχληση, προσαρμόζουμε την ένταση αμέσως.", options: [{ text: "Επιστροφή", value: "faqs" }] },
            faq_pregnancy: { message: "Εγκυμοσύνη: Σε φυσιολογική εγκυμοσύνη μπορεί να εφαρμοστεί με προσαρμογές. Σε υψηλού κινδύνου εγκυμοσύνη ή επιπλοκές, ζητήστε πρώτα ιατρική συμβουλή.", options: [{ text: "Επιστροφή", value: "faqs" }] },
            faq_sideeffects: { message: "Παρενέργειες: Σπάνια και ήπιες — υπνηλία, δίψα ή προσωρινή ευαισθησία. Πιείτε νερό και ξεκουραστείτε μετά.", options: [{ text: "Επιστροφή", value: "faqs" }] },
            faq_wear: { message: "Τι να φορέσω: Άνετα ρούχα. Αποφύγετε βαρύ γεύμα 1–2 ώρες πριν.", options: [{ text: "Επιστροφή", value: "faqs" }] },
            faq_frequency: { message: "Συχνότητα: Για στόχους όπως στρες ή μυοσκελετικά συνήθως 1×/εβδ. για 4–6 εβδομάδες, μετά συντήρηση κάθε 2–4 εβδομάδες.", options: [{ text: "Κλείσιμο ραντεβού", value: "start_booking" }, { text: "Επιστροφή", value: "faqs" }] },
            gift_card: { message: "Κάρτα δώρου / Πακέτα: Ναι, διαθέσιμες κάρτες δώρου. Πακέτο 10 συνεδριών: 270€.", options: [{ text: "Κλείσιμο πακέτου", value: "start_booking_package" }, { text: "Επιστροφή", value: "faqs" }] },
            testimonials_request: { message: "Δύο πρόσφατες γνώμες:\n• 'Μετά από μερικές συνεδρίες ένιωσα μεγάλη βελτίωση.' — Δέσποινα Ζ.\n• 'Η Αναστασία είναι εξαιρετική επαγγελματίας.' — Μαρία Κ.", options: [{ text: "Επιστροφή", value: "faqs" }] },
            call: { message: "Μπορείτε να μας καλέσετε στο 697 622 2211 για άμεση βοήθεια ή κράτηση. Προτιμάτε να σας καλέσουμε εμείς;", options: [{ text: "Ναι, καλέστε με", value: "request_callback" }, { text: "Επιστροφή", value: "welcome" }] },
            end_chat: { message: "Ευχαριστούμε που επικοινωνήσατε μαζί μας! Αν χρειαστείτε βοήθεια, εδώ είμαστε.", options: [] },

            // Booking-related placeholder intents (triggers start of booking flow)
            start_booking: { message: "Θα σας βοηθήσω να κλείσετε — σε 2 βήματα θα συλλέξουμε τα απαραίτητα στοιχεία: (1) Στοιχεία, (2) Επιβεβαίωση & αποστολή. Θέλετε να ξεκινήσουμε;", options: [{ text: "Ναι, ξεκινάμε", value: "booking_step_name" }, { text: "Όχι, τηλεφωνικά", value: "call" }, { text: "Επιστροφή", value: "welcome" }] },
            start_booking_45: { message: "Επιλέξατε 45′ — 30€. Θέλουμε να ξεκινήσουμε;", options: [{ text: "Ναι", value: "booking_step_name_45" }, { text: "Όχι, επιστροφή", value: "prices" }] },
            start_booking_30: { message: "Επιλέξατε 30′ — 20€. Θέλουμε να ξεκινήσουμε;", options: [{ text: "Ναι", value: "booking_step_name_30" }, { text: "Όχι, επιστροφή", value: "prices" }] },
            start_booking_package: { message: "Κλείσιμο πακέτου 10 συνεδριών — 270€. Θέλετε να προχωρήσουμε με στοιχεία;", options: [{ text: "Ναι", value: "booking_step_name_package" }, { text: "Επιστροφή", value: "prices" }] },

            // Final generic intent used after user free-text or keywords
            unknown: { message: "Συγγνώμη, δεν κατάλαβα — μπορείτε να το ξαναπείτε με λίγα λόγια;", options: [{ text: "Κύριο μενού", value: "welcome" }] }
        };

        // Booking state & helpers
        let bookingState = null; // {name, phone, email, duration, preferred, goal}

        function beginBooking(pref) {
            bookingState = { name: '', phone: '', email: '', duration: pref || '', preferred: '', goal: '' };
            addMessage('Θα χρειαστώ λίγα στοιχεία για το ραντεβού. Πώς να σας φωνάζω;', 'bot');
            // show quick reply to collect name
            chatOptions.innerHTML = '';
            const btn = document.createElement('button');
            btn.className = 'chat-option';
            btn.textContent = 'Πείτε μου το όνομά σας εδώ...';
            btn.addEventListener('click', () => {
                chatInput.focus();
            });
            chatOptions.appendChild(btn);
        }

        function processBookingField(field, value) {
            if (!bookingState) return;
            bookingState[field] = value;
        }

        function confirmAndSendBooking() {
            if (!bookingState) return addMessage('Δεν βρέθηκαν στοιχεία κράτησης.', 'bot');
            const summary = `Κράτηση — Όνομα: ${bookingState.name || '-'}, Τηλέφωνο: ${bookingState.phone || '-'}, Email: ${bookingState.email || '-'}, Διάρκεια: ${bookingState.duration || '-'}, Προτιμώμενο: ${bookingState.preferred || '-'}, Στόχος: ${bookingState.goal || '-'}`;
            addMessage('Παραθέτω τα στοιχεία προς αποστολή:', 'bot');
            addMessage(summary, 'bot');
            // Ask to submit
            chatOptions.innerHTML = '';
            const submitBtn = document.createElement('button');
            submitBtn.className = 'chat-option';
            submitBtn.textContent = 'Ναι, στείλε το στη φόρμα';
            submitBtn.addEventListener('click', () => {
                // pre-fill the contact form and optionally submit
                const contactForm = document.getElementById('contactForm');
                if (contactForm) {
                    const nameEl = document.getElementById('name');
                    const emailEl = document.getElementById('email');
                    const phoneEl = document.getElementById('phone');
                    const messageEl = document.getElementById('message');
                    if (nameEl) nameEl.value = bookingState.name || '';
                    if (emailEl) emailEl.value = bookingState.email || '';
                    if (phoneEl) phoneEl.value = bookingState.phone || '';
                    if (messageEl) messageEl.value = `Κράτηση: ${bookingState.duration || '-'}; Προτιμώμενο: ${bookingState.preferred || '-'}; Στόχος: ${bookingState.goal || '-'}`;
                    // Focus the form so user can review
                    contactForm.scrollIntoView({ behavior: 'smooth' });
                    addMessage('Σας οδήγησα στη φόρμα — συμπληρώστε και πατήστε Αποστολή για να σταλεί μέσω Formspree, ή ενημερώστε με αν θέλετε να στείλω εγώ τα στοιχεία.', 'bot');
                } else {
                    addMessage('Η φόρμα δεν βρέθηκε — παρακαλώ καλέστε στο 697 622 2211.', 'bot');
                }
                bookingState = null;
                chatOptions.innerHTML = '';
            });
            chatOptions.appendChild(submitBtn);

            const phoneBtn = document.createElement('button');
            phoneBtn.className = 'chat-option';
            phoneBtn.textContent = 'Θέλω να με καλέσετε';
            phoneBtn.addEventListener('click', () => {
                addMessage('Σημείωσα το αίτημα — θα σας καλέσουμε το συντομότερο.', 'bot');
                bookingState = null;
                chatOptions.innerHTML = '';
            });
            chatOptions.appendChild(phoneBtn);
        }

        function openMaps() {
            // Deep link to Google Maps for the address used in the iframe
            const url = 'https://www.google.com/maps/search/?api=1&query=Ιπποκράτους+28+Βέροια';
            window.open(url, '_blank');
        }

        // Enhance keyword matching: add greeklish and common tokens
        const keywordMap = [
            { keys: ['ραντεβού', 'κλεισω', 'κλείσω', 'ραντεβου'], value: 'start_booking' },
            { keys: ['τιμη', 'τιμες', 'κοστος', '€', 'ευρω'], value: 'prices' },
            { keys: ['υπνος', 'sleep'], value: 'triage_sleep' },
            { keys: ['στρες', 'stress'], value: 'triage_stress' },
            { keys: ['πονο', 'πόνο', 'πόνους'], value: 'triage_msk' },
            { keys: ['πεπτικ', 'πεπτικο', 'πεπτική'], value: 'triage_digest' },
            { keys: ['ορμον', 'ορμονική'], value: 'triage_hormonal' },
            { keys: ['ανοσο', 'αυτοανοσα'], value: 'triage_immune' },
            { keys: ['ωρες', 'ωράριο', 'ωρα'], value: 'call' },
            { keys: ['τοποθεσια', 'χάρτης', 'map', 'maps'], value: 'open_maps' }
        ];

        
        // Function to add a message to the chat
        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender);
            messageElement.textContent = text;
            chatMessages.appendChild(messageElement);
            
            // Scroll to the bottom of the messages
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to show typing indicator
        function showTypingIndicator() {
            const typingIndicator = document.createElement('div');
            typingIndicator.classList.add('typing-indicator');
            typingIndicator.innerHTML = '<span></span><span></span><span></span>';
            typingIndicator.id = 'typingIndicator';
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to hide typing indicator
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        // Function to display options
        function displayOptions(options) {
            // Clear previous options
            chatOptions.innerHTML = '';
            
            // Add new options
            options.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.classList.add('chat-option');
                optionButton.textContent = option.text;
                optionButton.dataset.value = option.value;
                chatOptions.appendChild(optionButton);
                
                // Add event listener to option button
                optionButton.addEventListener('click', () => {
                    // Add user's selection as a message
                    addMessage(option.text, 'user');
                    
                    // Handle special actions
                    if (option.value === 'goto_form') {
                        // Scroll to contact form
                        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
                        // Focus on name input after scrolling
                        setTimeout(() => {
                            document.getElementById('name').focus();
                        }, 1000);
                        // Close chat after a delay
                        setTimeout(() => {
                            chatContainer.classList.remove('active');
                        }, 2000);
                        return;
                    }
                    
                    // Show typing indicator
                    showTypingIndicator();
                    
                    // Simulate bot thinking and then respond
                    setTimeout(() => {
                        hideTypingIndicator();
                        
                        // Get response content based on option value
                        const responseContent = reflexologyContent[option.value];
                        if (responseContent) {
                            // Add bot response
                            addMessage(responseContent.message, 'bot');
                            
                            // Display new options
                            displayOptions(responseContent.options);
                        }
                    }, 1000); // Simulate typing delay
                });
            });
        }
        
        // Initialize chat when icon is clicked
        if (chatIcon && chatContainer && chatClose) {
            chatIcon.addEventListener('click', () => {
                // Remove notification when clicked
                const notification = chatIcon.querySelector('.notification');
                if (notification) {
                    notification.style.display = 'none';
                }
                
                // Show chat container
                chatContainer.classList.add('active');
                
                // If chat is empty, initialize with welcome message
                if (chatMessages.children.length === 0) {
                    // Show typing indicator
                    showTypingIndicator();
                    
                    // Simulate bot thinking and then respond with welcome message
                    setTimeout(() => {
                        hideTypingIndicator();
                        addMessage(reflexologyContent.welcome.message, 'bot');
                        displayOptions(reflexologyContent.welcome.options);
                    }, 1000);
                }
            });
            
            // Close chat when close button is clicked
            chatClose.addEventListener('click', () => {
                chatContainer.classList.remove('active');
            });
            
            // Handle user input from text field
            if (chatInput && chatSend) {
                // Send message when send button is clicked
                chatSend.addEventListener('click', sendUserMessage);
                
                // Send message when Enter key is pressed
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendUserMessage();
                    }
                });
                
                function sendUserMessage() {
                    const userMessage = chatInput.value.trim();
                    if (userMessage) {
                        // Add user message to chat
                        addMessage(userMessage, 'user');
                        
                        // Clear input field
                        chatInput.value = '';
                        
                        // Show typing indicator
                        showTypingIndicator();
                        
                        // Simulate bot thinking and then respond
                        setTimeout(() => {
                            hideTypingIndicator();
                            
                            // Simple keyword-based response
                                        let responseKey = 'welcome'; // Default to welcome

                                        const lower = userMessage.toLowerCase();

                                        // keywordMap matching
                                        for (const map of keywordMap) {
                                            for (const k of map.keys) {
                                                if (lower.includes(k)) {
                                                    if (map.value === 'open_maps') {
                                                        openMaps();
                                                        addMessage('Άνοιξα οδηγίες στο Google Maps σε νέο παράθυρο.', 'bot');
                                                        responseKey = 'welcome';
                                                        break;
                                                    }
                                                    responseKey = map.value;
                                                    break;
                                                }
                                            }
                                            if (responseKey !== 'welcome' && responseKey !== 'open_maps') break;
                                        }

                                        // If bookingState is active collect free-text fields
                                        if (bookingState) {
                                            // naive field assignment based on what is missing
                                            if (!bookingState.name) {
                                                processBookingField('name', userMessage);
                                                addMessage('Ευχαριστώ — και τώρα το κινητό ή το email σας;', 'bot');
                                                hideTypingIndicator();
                                                return;
                                            } else if (!bookingState.phone && /\d{6,}/.test(userMessage.replace(/\s+/g,''))) {
                                                processBookingField('phone', userMessage);
                                                addMessage('Έλαβα τον αριθμό. Έχετε προτίμηση μέρας/ώρας;', 'bot');
                                                hideTypingIndicator();
                                                return;
                                            } else if (!bookingState.email && userMessage.includes('@')) {
                                                processBookingField('email', userMessage);
                                                addMessage('Εντάξει — ποια διάρκεια προτιμάτε; 30′ (20€) ή 45′ (30€);', 'bot');
                                                hideTypingIndicator();
                                                return;
                                            } else if (!bookingState.duration && (lower.includes('30') || lower.includes('45') || lower.includes('30\'') || lower.includes('45\''))) {
                                                // simplistic parse
                                                if (lower.includes('30')) processBookingField('duration', '30′');
                                                else processBookingField('duration', '45′');
                                                addMessage('Τέλεια. Ποιος είναι ο κύριος λόγος/στόχος της συνεδρίας; (π.χ. ύπνος, στρες)', 'bot');
                                                hideTypingIndicator();
                                                return;
                                            } else if (!bookingState.goal) {
                                                processBookingField('goal', userMessage);
                                                addMessage('Σχεδόν έτοιμο — επιβεβαιώνεις να στείλω τα στοιχεία στη φόρμα επικοινωνίας;', 'bot');
                                                // show confirm button
                                                chatOptions.innerHTML = '';
                                                const yes = document.createElement('button'); yes.className='chat-option'; yes.textContent='Ναι, στείλε τα'; yes.addEventListener('click', confirmAndSendBooking);
                                                const no = document.createElement('button'); no.className='chat-option'; no.textContent='Όχι, θέλω να ελέγξω'; no.addEventListener('click', ()=>{ addMessage('Μπορείτε να επεξεργαστείτε τα πεδία στη φόρμα.', 'bot'); bookingState=null; chatOptions.innerHTML=''; });
                                                chatOptions.appendChild(yes); chatOptions.appendChild(no);
                                                hideTypingIndicator();
                                                return;
                                            }
                                        }

                                        // Add bot response
                                        const resp = reflexologyContent[responseKey] || reflexologyContent.unknown;
                                        addMessage(resp.message, 'bot');

                                        // Special actions for some responseKeys
                                        if (responseKey === 'start_booking' || responseKey.startsWith('start_booking')) {
                                            // begin booking flow with optional preset duration
                                            if (responseKey === 'start_booking_45') beginBooking('45′');
                                            else if (responseKey === 'start_booking_30') beginBooking('30′');
                                            else if (responseKey === 'start_booking_package') beginBooking('package 10');
                                            else beginBooking('');
                                            hideTypingIndicator();
                                            return;
                                        }

                                        if (responseKey === 'open_maps') {
                                            openMaps();
                                        }

                                        // Display new options
                                        displayOptions(resp.options || []);
                        }, 1500); // Slightly longer delay for typing response to user input
                    }
                }
            }
            
            // Show notification after a delay for demo purposes
            setTimeout(() => {
                const notification = chatIcon.querySelector('.notification');
                if (notification) {
                    notification.style.display = 'flex';
                }
            }, 5000);
        }
        
        /* Testimonial Carousel Functionality */
        const testimonialSlides = document.querySelectorAll('.testimonial-slide');
        const prevButton = document.querySelector('.testimonial-arrow.prev');
        const nextButton = document.querySelector('.testimonial-arrow.next');
        const dots = document.querySelectorAll('.dot');
        let currentSlide = 0;
        let testimonialInterval;
        
        // Function to show a specific slide
        function showSlide(index) {
            // Hide all slides
            testimonialSlides.forEach(slide => {
                slide.classList.remove('active');
            });
            
            // Deactivate all dots
            dots.forEach(dot => {
                dot.classList.remove('active');
            });
            
            // Show the selected slide and activate corresponding dot
            testimonialSlides[index].classList.add('active');
            dots[index].classList.add('active');
            
            // Update current slide index
            currentSlide = index;
        }
        
        // Function to show the next slide
        function nextSlide() {
            let nextIndex = currentSlide + 1;
            if (nextIndex >= testimonialSlides.length) {
                nextIndex = 0;
            }
            showSlide(nextIndex);
        }
        
        // Function to show the previous slide
        function prevSlide() {
            let prevIndex = currentSlide - 1;
            if (prevIndex < 0) {
                prevIndex = testimonialSlides.length - 1;
            }
            showSlide(prevIndex);
        }
        
        // Start auto-rotation
        function startAutoRotation() {
            // Clear any existing interval
            if (testimonialInterval) {
                clearInterval(testimonialInterval);
            }
            
            // Set new interval to change slides every 4 seconds
            testimonialInterval = setInterval(() => {
                nextSlide();
            }, 4000);
        }
        
        // Event listeners for manual navigation
        if (prevButton && nextButton) {
            prevButton.addEventListener('click', () => {
                prevSlide();
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
            
            nextButton.addEventListener('click', () => {
                nextSlide();
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
        }
        
        // Event listeners for dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                showSlide(index);
                // Restart auto-rotation after manual navigation
                startAutoRotation();
            });
        });
        
        // Start auto-rotation when the page loads
        startAutoRotation();
        
        /* Gallery Lightbox Functionality */
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxClose = document.querySelector('.lightbox-close');
        const galleryBtns = document.querySelectorAll('.gallery-btn');
        const galleryItems = document.querySelectorAll('.gallery-item');
        
        // Open lightbox when gallery button is clicked
        galleryBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent event bubbling
                const imgSrc = btn.getAttribute('data-img');
                lightboxImg.src = imgSrc;
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling when lightbox is open
            });
        });
        
        // Also open lightbox when gallery item is clicked
        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                const imgSrc = item.querySelector('.gallery-btn').getAttribute('data-img');
                lightboxImg.src = imgSrc;
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        // Close lightbox when close button is clicked
        lightboxClose.addEventListener('click', () => {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        });
        
        // Close lightbox when clicking outside the image
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
        
        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    </script>
    </main>
</body>
</html>